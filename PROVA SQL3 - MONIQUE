[PYIA-A17] Crie uma tabela chamada Estoque que contenha as seguintes colunas: EstoqueID, ProdutoID, FornecedorID, Quantidade e DataEntrada. A coluna EstoqueID deve ser um identificador único para cada registro no estoque.
A coluna ProdutoID deve referenciar o identificador do produto correspondente na tabela de produtos, e a coluna FornecedorID deve referenciar o identificador do fornecedor na tabela de fornecedores, ambas atuando como chaves estrangeiras para
estabelecer a relação com outras tabelas. A coluna Quantidade deve indicar a quantidade de produtos recebidos, e a coluna DataEntrada deve armazenar a data em que os produtos entraram no estoque. Para criar esta tabela e garantir as referências corretas,
é necessário definir as chaves estrangeiras para ProdutoID e FornecedorID.

Após a criação da tabela, você pode utilizar operações de banco de dados como FULL OUTER JOIN para combinar informações de diferentes tabelas, GROUP BY para agrupar dados com base em uma ou mais colunas, e ALTER TABLE para modificar a estrutura da tabela,
como adicionar ou alterar colunas.

-- Criação Tabela Produtos - para utilizar em consultas após criar tabela estoque
CREATE TABLE IF NOT EXISTS Produtos (
    ProdutoID INTEGER PRIMARY KEY AUTOINCREMENT,
    NomeProduto TEXT NOT NULL
);

-- Criação Tabela Fornecedores - para utilizar em consultas após criar tabela estoque
CREATE TABLE IF NOT EXISTS Fornecedores (
    FornecedorID INTEGER PRIMARY KEY AUTOINCREMENT,
    NomeFornecedor TEXT NOT NULL
);

-- Criação Tabela Estoque (com chaves estrangeiras)
CREATE TABLE IF NOT EXISTS Estoque (
    EstoqueID INTEGER PRIMARY KEY AUTOINCREMENT,
    ProdutoID INTEGER NOT NULL,
    FornecedorID INTEGER NOT NULL,
    Quantidade INTEGER NOT NULL,
    FOREIGN KEY (ProdutoID) REFERENCES Produtos(ProdutoID),
    FOREIGN KEY (FornecedorID) REFERENCES Fornecedores(FornecedorID)
);

-- Inserir dados de exemplo
INSERT INTO Produtos (NomeProduto) VALUES
('Camiseta Básica'),
('Caneca Personalizada'),
('Mouse Óptico USB'),
('Teclado Mecânico');  -- Produto sem entrada no estoque

INSERT INTO Fornecedores (NomeFornecedor) VALUES
('Fornecedor A'),
('Fornecedor B'),
('Fornecedor C');     -- Fornecedor sem entregas registradas

INSERT INTO Estoque (ProdutoID, FornecedorID, Quantidade) VALUES
(1, 1, 100),  -- Camiseta do Fornecedor A
(2, 1, 50),   -- Caneca do Fornecedor A
(1, 2, 80);   -- Camiseta do Fornecedor B


-- Exemplo de FULL OUTER JOIN
SELECT 
    p.ProdutoID,
    p.NomeProduto,
    f.FornecedorID,
    f.NomeFornecedor,
    COALESCE(e.Quantidade, 0) AS QuantidadeRecebida
FROM Produtos p
FULL OUTER JOIN Estoque e ON p.ProdutoID = e.ProdutoID
FULL OUTER JOIN Fornecedores f ON e.FornecedorID = f.FornecedorID;


